<!doctype HTML>

<html ng-app="andernieuws" lang="nl">

<head>
	<meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
	<meta name="description" content="">
	<meta name="author" content="Jaap Blom">

	<meta http-equiv="cache-control" content="max-age=0" />
	<meta http-equiv="cache-control" content="no-cache" />
	<meta http-equiv="expires" content="0" />
	<meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
	<meta http-equiv="pragma" content="no-cache" />

	<title>Ander nieuws topics</title>

	<!-- JQUERY -->

	<script src="./andernieuws/bower_components/jquery/dist/jquery.min.js"></script>

	<!-- ANGULAR -->

	<script src="./andernieuws/bower_components/angular/angular.min.js"></script>

	<!-- (BOOTSTRAP) CSS -->

	<link rel="stylesheet" href="./andernieuws/bower_components/bootstrap/dist/css/bootstrap.min.css">
	<link rel="stylesheet" href="./andernieuws/bower_components/bootstrap/dist/css/bootstrap-theme.min.css">

	<link rel="stylesheet" href="./andernieuws/css/an.css">



	<!--
	<link rel="shortcut icon" type="image/ico" href="/images/favicon.ico" />
	 -->

</head>

<body>


	<!-- MAIN CONTAINER -->

	<div class="container">

		<div class="page-header">
			<h1>Zoek in Ander Nieuws en zie waar je zoekterm in het nieuws mee in verband wordt gebracht</h1>
		</div>

        <audio id="audioPlayer" controls>
		    <source id="audioSource" type="audio/mpeg">
		    Your browser does not support the audio element.
		</audio>

		<!-- THIS SECTION CONTROLS THE FEED ITEMS AND THEIR RELATED CONTEXT LINKS-->

		<section ng-controller="searchCtrl">


			<div id="anchor_tabs" role="tabpanel">
				<ul class="nav nav-tabs" role="tablist">
					<li role="presentation" class="active">
						<a href="#search" aria-controls="search" role="tab" data-toggle="tab">
							Search
						</a>
					</li>
					<li role="presentation">
						<a href="#keyword_search" aria-controls="keyword_search" role="tab" data-toggle="tab">
							Keyword search
						</a>
					</li>
					<li role="presentation">
						<a href="#monthly_keywords" aria-controls="monthly_keywords" role="tab" data-toggle="tab">
							Monthly keywords
						</a>
					</li>
					<li role="presentation">
						<a href="#monthly_keywords_inv" aria-controls="monthly_keywords_inv" role="tab" data-toggle="tab">
							Monthly keywords (inv)
						</a>
					</li>
				</ul>

				<div class="tab-content">

					<!-- GUIDLINES TAB -->
					<div role="tabpanel" class="tab-pane active" id="search">

						<div id="control_panel" class="container">

							<div class="row">

								<div class="col-md-12">

									<form class="form-inline" role="form" ng-submit="search()">
										<div class="form-group">
											<label for="feed">Zoekt!</label>
										</div>
										<div class="form-group">
											<input id="feed" ng-model="s" class="form-control" type="text" value="" size="60" placeholder="Bijvoorbeeld: Roken, Wilders, Duitsland, Defensie">
										</div>
										<div class="form-group">
											<input id="start_date" ng-model="startDate" class="form-control" type="text" value="" size="20"
											placeholder="dd-mm-yyyy">
										</div>
										<div class="form-group">
											<input id="end_date" ng-model="endDate" class="form-control" type="text" value="" size="20"
											placeholder="dd-mm-yyyy">
										</div>
										<div class="form-group">
											<input id="interval" ng-model="interval" class="form-control" type="text" value="" size="7"
											placeholder="3000">
										</div>
										<div class="form-group">
											<button type="submit" class="btn btn-primary">Submit</button>
										</div>
										<br><br>
										<label class="checkbox-inline">
											<input type="checkbox" id="s_include_nouns" value="0" checked> Nouns
										</label>
										<label class="checkbox-inline">
											<input type="checkbox" id="s_include_verbs" value="1" checked> Verbs
										</label>
										<label class="checkbox-inline">
											<input type="checkbox" id="s_include_adjectives" value="2" checked> Adjectives
										</label>
										<label class="checkbox-inline">
											<input type="checkbox" id="s_include_adverbs" value="3" checked> Adverbs
										</label>
										<label class="checkbox-inline">
											<input type="checkbox" id="s_include_pronouns" value="4" checked> Pronouns
										</label>
										<label class="checkbox-inline">
											<input type="checkbox" id="s_include_numbers" value="5" checked> Numbers
										</label>
										<label class="checkbox-inline">
											<input type="checkbox" id="s_include_prepositions" value="6" checked> Prepositions
										</label>
										<label class="checkbox-inline">
											<input type="checkbox" id="s_include_determiners" value="7" checked> Determiners
										</label>
										<label class="checkbox-inline">
											<input type="checkbox" id="s_include_interjections" value="8" checked> Interjections
										</label>
										<label class="checkbox-inline">
											<input type="checkbox" id="s_include_conjunctions" value="9" checked> Conjunctions
										</label>
									</form>

									<!-- RESULT LIST -->

									<h3>{{numTopics}}</h3>
									<ul id="results" class="label-list">


									    <li ng-repeat="topic in topicData"><!--ng-if="topic.itemCount > 1"-->
									        <span class="label label-{{getKeywordClass(topic.itemCount)}}"
									            ng-click="searchTopic(topic.topic)">
									            {{topic.topic}} ({{topic.itemCount}}) [{{topic.type}}]
									        </span>
									        &nbsp;
									        <span ng-repeat="item in topic.mediaItems" title="{{item.audioUrl}} - {{item.date}}" ng-click="playFragment(item)">
									            <span class="label label-default">{{item.date}}</span>
									        </span>
									    </li>

									</ul>

									<div class="alert alert-info" ng-show="numTopics == 0">Helaas geen resultaten: je zult even verder moeten zoeken</div>

								</div>

							</div>

						</div>

					</div><!-- TAB 1 -->


					<div role="tabpanel" class="tab-pane" id="keyword_search">

						<div id="keyword_panel" class="container">
							<div class="row">
								<div class="col-md-12">
									<form class="form-inline" role="form" ng-submit="searchKeywords()">
										<div class="form-group">
											<label for="feed">Periode</label>
										</div>
										<div class="form-group">
											<input id="start_date" ng-model="startDate" class="form-control" type="text" value="" size="20"
											placeholder="dd-mm-yyyy">
										</div>
										<div class="form-group">
											<input id="end_date" ng-model="endDate" class="form-control" type="text" value="" size="20"
											placeholder="dd-mm-yyyy">
										</div>
										<div class="form-group">
											<label for="feed">Aantal</label>
											<input id="kwlimit" ng-model="kwlimit" class="form-control" type="text" value="" size="7"
											placeholder="Aantal">
										</div>
										<div class="form-group">
											<button type="submit" class="btn btn-primary">Submit</button>
										</div>
										<br><br>
										<label class="checkbox-inline">
											<input type="checkbox" id="include_nouns" value="0" checked> Nouns
										</label>
										<label class="checkbox-inline">
											<input type="checkbox" id="include_verbs" value="1" checked> Verbs
										</label>
										<label class="checkbox-inline">
											<input type="checkbox" id="include_adjectives" value="2" checked> Adjectives
										</label>
										<label class="checkbox-inline">
											<input type="checkbox" id="include_adverbs" value="3" checked> Adverbs
										</label>
										<label class="checkbox-inline">
											<input type="checkbox" id="include_pronouns" value="4" checked> Pronouns
										</label>
										<label class="checkbox-inline">
											<input type="checkbox" id="include_numbers" value="5" checked> Numbers
										</label>
										<label class="checkbox-inline">
											<input type="checkbox" id="include_prepositions" value="6" checked> Prepositions
										</label>
										<label class="checkbox-inline">
											<input type="checkbox" id="include_determiners" value="7" checked> Determiners
										</label>
										<label class="checkbox-inline">
											<input type="checkbox" id="include_interjections" value="8" checked> Interjections
										</label>
										<label class="checkbox-inline">
											<input type="checkbox" id="include_conjunctions" value="9" checked> Conjunctions
										</label>
									</form>
								</div>

							</div>
							<br>

							<!-- GEVONDEN KEYWORDS -->

							<div class="row" ng-show="kwGroups">
								<div class="panel panel-default">
									<div class="panel-heading">
										Keywords from this period
										<button type="button" ng-click="sortKeywords()" class="btn btn-default">
											Sort by frequency: {{sortByScore}}
										</button>
									</div>
									<div class="panel-body">
										<!-- All results-->
										<div class="kwGroup">
											<h4>Alle woorden van eender welk type</h4>
											<ul class="label-list">
												<li ng-repeat="kw in keywords">
													<span ng-click="searchTopic(kw.word)"
													class="label label-{{getKwClass(kw.score)}}">{{kw.word}}</span>
												</li>
											</ul>
										</div>
										<!-- The results ordered per word type-->
										<div ng-repeat="(key, value) in kwGroups" class="kwGroup">
											<h4>{{key}}</h4>
											<ul class="label-list">
												<li ng-repeat="kw in value">
													<span ng-click="searchTopic(kw.word)"
													class="label label-{{getKwClass(kw.score)}}">{{kw.word}}</span>
												</li>
											</ul>
										</div>
									</div>
								</div>
							</div>

						</div>
					</div>

					<div role="tabpanel" class="tab-pane" id="monthly_keywords">

						<div id="monthly_panel" class="container">
							<div class="row" ng-show="monthly">
								<div class="col-md-4" ng-repeat="kws in monthly">
									<div class="panel panel-default" style="height:420px;">
										<div class="panel-heading">
											Month {{$index}}
										</div>
										<div class="panel-body">
											<ul ng-if="$odd" class="label-list">
												<li ng-repeat="kw in kws">
													<span class="label label-default">{{kw.word}}</span>
												</li>
											</ul>
											<ul ng-if="$even" class="label-list">
												<li ng-repeat="kw in kws">
													<span class="label label-warning">{{kw.word}}</span>
												</li>
											</ul>
										</div>
									</div>
								</div>
							</div>
						</div>

					</div>

					<div role="tabpanel" class="tab-pane" id="monthly_keywords_inv">

						<div id="monthly_panel_inv" class="container">
							<div class="row" ng-show="monthlyInv">
								<div class="col-md-4" ng-repeat="kws in monthlyInv">
									<div class="panel panel-default" style="height:420px;">
										<div class="panel-heading">
											Month {{$index}}
										</div>
										<div class="panel-body">
											<ul ng-if="$odd" class="label-list">
												<li ng-repeat="kw in kws">
													<span class="label label-default">{{kw.word}}</span>
												</li>
											</ul>
											<ul ng-if="$even" class="label-list">
												<li ng-repeat="kw in kws">
													<span class="label label-warning">{{kw.word}}</span>
												</li>
											</ul>
										</div>
									</div>
								</div>
							</div>
						</div>

					</div>
			</div>


			<!-- AUDIO PLAYER (CURRENTLY ONLY USED FOR WOORD.NL SOURCES) preload="none"-->

			<audio id="audioPlayer" controls>
				<source id="audioSource" type="audio/mpeg">
				Your browser does not support the audio element.
			</audio>

			<button ng-click="toggleAudio()" ng-show="audioLoaded">
			    <span ng-show="audioPlaying" class="glyphicon glyphicon-pause"></span>
			    <span ng-show="!audioPlaying" class="glyphicon glyphicon-play"></span>
			</button>
			<!-- LOADING GRAPHIC -->

			<div id="loading" ng-show="loading == true">
				<img src="./andernieuws/images/loading.gif" alt="Loading new feed items">
			</div>


		</section>

	</div>

</body>

<!-- GET THE BOOTSTRAP JS AT THE END -->

<script src="./andernieuws/js/app.js"></script>
<script src="./andernieuws/js/audioplayer.js"></script>
<script src="./andernieuws/js/searchController.js"></script>
<script src="./andernieuws/js/ui-bootstrap-tpls-0.10.0.min.js"></script>
<script src="./andernieuws/bower_components/bootstrap/dist/js/bootstrap.min.js"></script>

</html>